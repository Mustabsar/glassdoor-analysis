In [30]: run glassdoor.py
Iterating through 55857 pages.
Loaded 100 pages, 989 records . . .
Loaded 200 pages, 1989 records . . .
Loaded 300 pages, 2989 records . . .
Loaded 400 pages, 3989 records . . .
Loaded 500 pages, 4989 records . . .
Loaded 600 pages, 5989 records . . .
Loaded 700 pages, 6989 records . . .
Loaded 800 pages, 7989 records . . .
Loaded 900 pages, 8989 records . . .
Loaded 1000 pages, 9989 records . . .
Loaded 1100 pages, 10989 records . . .
Loaded 1200 pages, 11989 records . . .
Loaded 1300 pages, 12989 records . . .
Loaded 1400 pages, 13989 records . . .
Loaded 1500 pages, 14989 records . . .
Loaded 1600 pages, 15989 records . . .
Loaded 1700 pages, 16989 records . . .
Loaded 1800 pages, 17989 records . . .
Loaded 1900 pages, 18989 records . . .
Loaded 2000 pages, 19989 records . . .
Loaded 2100 pages, 20989 records . . .
Loaded 2200 pages, 21989 records . . .
Loaded 2300 pages, 22989 records . . .
Loaded 2400 pages, 23989 records . . .
Loaded 2500 pages, 24989 records . . .
Loaded 2600 pages, 25989 records . . .
Loaded 2700 pages, 26989 records . . .
Loaded 2800 pages, 27989 records . . .
Loaded 2900 pages, 28989 records . . .
Loaded 3000 pages, 29989 records . . .
Loaded 3100 pages, 30989 records . . .
Loaded 3200 pages, 31989 records . . .
Loaded 3300 pages, 32989 records . . .
Loaded 3400 pages, 33989 records . . .
---------------------------------------------------------------------------
ChunkedEncodingError                      Traceback (most recent call last)
/Users/dave_hogue/data-science/dsi-denver5/capstone-dsi/glassdoor.py in <module>()
     63         page = glassdoor_search('employers', i + 1)
     64         if not page:
---> 65             print 'Skipped page, see above.'
     66         else:
     67             emp_table.insert_many(page['response']['employers'])

/Users/dave_hogue/data-science/dsi-denver5/capstone-dsi/glassdoor.py in glassdoor_search(action, page)
     28             params['action'],
     29             params['pn'])
---> 30     response = requests.get(url, headers={'User-Agent': 'Mozilla/5.0'})
     31     if response.status_code == 403:
     32         print '403 Error: {}'.format(response.reason)

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/api.pyc in get(url, params, **kwargs)
     69
     70     kwargs.setdefault('allow_redirects', True)
---> 71     return request('get', url, params=params, **kwargs)
     72
     73

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/api.pyc in request(method, url, **kwargs)
     55     # cases, and look like a memory leak in others.
     56     with sessions.Session() as session:
---> 57         return session.request(method=method, url=url, **kwargs)
     58
     59

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/sessions.pyc in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)
    473         }
    474         send_kwargs.update(settings)
--> 475         resp = self.send(prep, **send_kwargs)
    476
    477         return resp

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/sessions.pyc in send(self, request, **kwargs)
    615
    616         if not stream:
--> 617             r.content
    618
    619         return r

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/models.pyc in content(self)
    739                     self._content = None
    740                 else:
--> 741                     self._content = bytes().join(self.iter_content(CONTENT_CHUNK_SIZE)) or bytes()
    742
    743             except AttributeError:

/Users/dave_hogue/anaconda/lib/python2.7/site-packages/requests/models.pyc in generate()
    665                         yield chunk
    666                 except ProtocolError as e:
--> 667                     raise ChunkedEncodingError(e)
    668                 except DecodeError as e:
    669                     raise ContentDecodingError(e)

ChunkedEncodingError: ("Connection broken: error(54, 'Connection reset by peer')", error(54, 'Connection reset by peer'))
